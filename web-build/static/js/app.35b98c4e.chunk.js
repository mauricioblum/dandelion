(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{205:function(e,n,t){e.exports=t.p+"static/media/monograma-logo.6b544e28.png"},220:function(e,n,t){"use strict";t.d(n,"a",(function(){return Ce}));var r=t(0),a=t.n(r),o=t(8),i=t.n(o),c=t(5),l=t.n(c),s=t(15),u=t.n(s);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){i()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f,p,g,b,x,h,E,y,v,w,O,k,S=r.createContext({}),j=function(){return r.useContext(S)},P=function(e){var n=e.children,t=u()(e,["children"]),a=r.useState("light"),o=l()(a,2),i=o[0],c=o[1];return r.createElement(S.Provider,{value:d(d({},t),{},{theme:i,setTheme:function(e){c(e)}})},n)},T=t(181),I=t(310),F=t(20),z={colors:{main:"#4F6758",secondary:"#9F4D5D",background:"#FFF4F0",text:"#3f3f3f",textInverted:"#fff"}},C={colors:{main:"#4F6758",secondary:"#9F4D5D",background:"#282A36",text:"#fff",textInverted:"#FFF4F0"}},D=t(221),V=t(109),q=t(51),J=t(45),A=t(31),M=t(81),R=t(82),B=t(307),K=t(23),L=t.n(K),N=F.b.Pressable.attrs({elevation:3})(f||(f=L()(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px 24px;\n  border-radius: 6px;\n  min-width: 180px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.main})),G=F.b.Text(p||(p=L()(["\n  font-size: 16px;\n  text-align: center;\n  font-weight: bold;\n  color: ",";\n"])),(function(e){return e.theme.colors.textInverted})),H=function(e){var n=e.onPress,t=e.title,r=void 0===t?"Save":t,o=e.marginVertical;return a.a.createElement(N,{onPress:n,style:{marginVertical:o}},a.a.createElement(G,null,r))},U=F.b.View(g||(g=L()(["\n  flex: 1;\n  background: ",";\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.theme.colors.background})),Q=(F.b.Text(b||(b=L()(["\n  font-size: 24px;\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),F.b.Text(x||(x=L()(["\n  font-size: 18px;\n  color: ",";\n  margin-top: 10px;\n"])),(function(e){return e.theme.colors.text}))),W=F.b.Text(h||(h=L()(["\n  font-size: 28px;\n  font-weight: bold;\n  color: ",";\n"])),(function(e){return e.theme.colors.main})),X=F.b.View(E||(E=L()(["\n  position: absolute;\n  top: 20px;\n  left: 20px;\n"]))),_=t(205),Y=t.n(_),Z=function(e){var n=e.navigation,t=j().theme,r="dark"===t?"#fff":"#000",o=Object(R.a)(A.a.auth()),i=l()(o,1)[0],c=Object(M.b)(A.a.database().ref("currentSong")),s=l()(c,2),u=s[0],m=s[1];return i?a.a.createElement(U,null,a.a.createElement(D.a,{style:"dark"===t?"light":"dark"}),a.a.createElement(X,null,a.a.createElement(q.a,{onPress:function(){return n.navigate("Settings")}},a.a.createElement(B.a,{color:r,name:"settings",size:28}))),a.a.createElement(J.a,{source:Y.a,style:{width:200,height:200}}),a.a.createElement(Q,null,"Tocando agora:"),m?a.a.createElement(V.a,{style:{marginBottom:48},size:"large",color:"#4F6758"}):a.a.createElement(W,{style:{marginBottom:48}},u),a.a.createElement(H,{title:"Pedir m\xfasica",marginVertical:10,onPress:function(){return n.navigate("SongRequest")}}),a.a.createElement(H,{title:"Meus pedidos",marginVertical:10,onPress:function(){return n.navigate("MySongs")}})):null},$=F.b.View(y||(y=L()(["\n  flex: 1;\n  background: ",";\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n"])),(function(e){return e.theme.colors.background})),ee=(F.b.Text(v||(v=L()(["\n  font-size: 24px;\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),F.b.View(w||(w=L()(["\n  display: flex;\n  justify-content: center;\n"])))),ne=F.b.Text(O||(O=L()(["\n  font-size: 22px;\n  font-weight: bold;\n  color: ",";\n  margin-bottom: 4px;\n"])),(function(e){return e.theme.colors.text})),te=F.b.TextInput(k||(k=L()(["\n  border-width: 1px;\n  border-color: ",";\n  padding: 5px 10px;\n  height: 40px;\n  width: 220px;\n  color: ",";\n  font-size: 18px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.colors.main}),(function(e){return e.theme.colors.text})),re=t(104),ae=t(6);function oe(e,n,t,r){"web"===ae.a.OS?n?alert(e+"\n"+n):alert(e):re.a.alert(e,n,t,r)}var ie,ce,le,se,ue,me,de,fe=function(){var e=Object(r.useState)(""),n=l()(e,2),t=n[0],o=n[1],i=Object(r.useState)(""),c=l()(i,2),s=c[0],u=c[1],m=Object(r.useRef)(null),d=Object(R.a)(A.a.auth()),f=l()(d,1)[0],p=function(){if(""!==t)if(f){var e={name:t,artist:s,isPlaying:!1,userId:f.uid};A.a.database().ref("requests").push(e,(function(e){e?oe("Erro ao salvar seu pedido, tente novamente"):(o(""),u(""),oe("Pedido efetuado com sucesso","O DJ j\xe1 recebeu o seu pedido",[{text:"OK",onPress:function(){}}],{cancelable:!1}))}))}else oe("Usu\xe1rio n\xe3o autenticado!");else oe("Escreva pelo menos o nome da m\xfasica!!!")};return a.a.createElement($,null,a.a.createElement(ee,null,a.a.createElement(ne,null,"Nome da m\xfasica"),a.a.createElement(te,{onChangeText:function(e){return o(e)},autoCapitalize:"words",autoCorrect:!1,value:t,returnKeyType:"next",onEndEditing:function(){m.current&&m.current.focus()}}),a.a.createElement(ne,null,"Artista / Banda"),a.a.createElement(te,{ref:m,onChangeText:function(e){return u(e)},autoCapitalize:"words",autoCorrect:!1,value:s,returnKeyType:"send",onEndEditing:p}),a.a.createElement(H,{title:"Pedir",marginVertical:10,onPress:p})))},pe=function(e){var n=e.navigation,t=Object(r.useState)(!1),o=l()(t,2),i=o[0],c=o[1];return a.a.useEffect((function(){return n.addListener("focus",(function(){c(!1)}))}),[n]),a.a.createElement($,null,i?a.a.createElement(H,{title:"Desvincular DJ",onPress:function(){c(!1)}}):a.a.createElement(H,{title:"Sou DJ",marginVertical:8,onPress:function(){c(!0),n.navigate("DJScreen")}}))},ge=t(60),be=F.b.View(ie||(ie=L()(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  min-width: 250px;\n  width: 100%;\n  overflow: hidden;\n  padding: 12px 8px;\n  border: 1px solid ",";\n  border-radius: 6px;\n  margin-bottom: 6px;\n  background: #fff;\n"])),(function(e){return e.theme.colors.main})),xe=F.b.Text(ce||(ce=L()(["\n  font-size: 18px;\n  font-weight: bold;\n  color: ",";\n  margin-right: 16px;\n  max-width: 85%;\n"])),(function(e){return e.theme.colors.main})),he=function(){var e=Object(M.a)(A.a.database().ref("requests"),{keyField:"songId"}),n=l()(e,1)[0],t=Object(R.a)(A.a.auth()),r=l()(t,1)[0];if(!r||!n)return null;var o=n.filter((function(e){return e.userId===r.uid}));return a.a.createElement($,null,a.a.createElement(ge.a,{data:o,keyExtractor:function(e){return e.songId},style:{marginTop:10,width:"100%"},ListEmptyComponent:a.a.createElement(xe,null,"Voc\xea ainda n\xe3o fez nenhum pedido."),renderItem:function(e){var n=e.item;return a.a.createElement(be,null,a.a.createElement(xe,null,n.name," - ",n.artist),a.a.createElement(q.a,{onPress:function(){return function(e){try{A.a.database().ref("requests/"+e).remove()}catch(n){console.log("error removing song",n)}}(n.songId)}},a.a.createElement(B.a,{name:"trash-2",size:20})))}}))},Ee=t(7),ye=t.n(Ee),ve=t(309),we=t(222),Oe=F.b.View(le||(le=L()(["\n  flex: 1;\n  background: ",";\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n"])),(function(e){return e.theme.colors.background})),ke=F.b.Text(se||(se=L()(["\n  font-size: 22px;\n  font-weight: bold;\n  color: ",";\n  margin-bottom: 4px;\n  text-align: center;\n"])),(function(e){return e.theme.colors.text})),Se=F.b.View(ue||(ue=L()(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  overflow: hidden;\n  padding: 12px 8px;\n  border: 1px solid ",";\n  border-radius: 6px;\n  margin-bottom: 6px;\n  background: #fff;\n"])),(function(e){return e.theme.colors.main})),je=F.b.View(me||(me=L()(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Pe=F.b.Text(de||(de=L()(["\n  font-size: 18px;\n  font-weight: bold;\n  color: ",";\n  margin-right: 16px;\n  max-width: 55%;\n"])),(function(e){return e.theme.colors.main})),Te=function(e){var n=e.navigation,t=Object(M.a)(A.a.database().ref("requests"),{keyField:"songId"}),o=l()(t,1)[0],i=Object(r.useState)(""),c=l()(i,2),s=c[0],u=c[1],m=Object(r.useState)(!1),d=l()(m,2),f=d[0],p=d[1],g=Object(r.useState)(!1),b=l()(g,2),x=b[0],h=b[1],E=function(){return ye.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!1),e.prev=1,"@fm18122021"!==s){e.next=6;break}p(!0),e.next=7;break;case 6:throw new Error("Senha incorreta");case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),h(!0),console.log(e.t0);case 13:case"end":return e.stop()}}),null,null,[[1,9]],Promise)};Object(r.useEffect)((function(){x&&oe("Senha incorreta","Tente novamente",[{text:"OK",onPress:function(){u("")}}],{cancelable:!0})}),[x]);return a.a.createElement(Oe,null,f?a.a.createElement(a.a.Fragment,null,a.a.createElement(ke,null,"Bem-vindo!"),a.a.createElement(ke,null,"Clique no Play para mostrar o pedido no painel, ou no X para remover"),a.a.createElement(ge.a,{data:o,style:{marginTop:20,width:"100%"},ListEmptyComponent:a.a.createElement(Pe,null,"Nenhum pedido registrado."),keyExtractor:function(e){return e.songId},renderItem:function(e){var n=e.item;return a.a.createElement(Se,null,a.a.createElement(Pe,null,n.name," - ",n.artist),a.a.createElement(je,null,a.a.createElement(q.a,{style:{marginRight:14},onPress:function(){return function(e){var n=A.a.database().ref("requests");A.a.database().ref("currentSong").set(e.name+" - "+e.artist,(function(t){t?oe("Erro ao tocar m\xfasica atual, tente novamente"):n.child(e.songId).remove()}))}(n)}},a.a.createElement(ve.a,{color:"#b305ca",name:"play-circle",size:40})),a.a.createElement(q.a,{style:{marginRight:14},onPress:function(){return function(e){var n="https://open.spotify.com/search/"+encodeURI(e.name+" "+e.artist);"web"===ae.a.OS?window.open(n,"spotifywindow"):we.a(n)}(n)}},a.a.createElement(ve.a,{color:"#057738",name:"spotify",size:40})),a.a.createElement(q.a,{onPress:function(){return function(e){A.a.database().ref("requests").child(e.songId).remove()}(n)}},a.a.createElement(ve.a,{color:"#b90505",name:"trash",size:40}))))}}),a.a.createElement(H,{title:"Sair",marginVertical:4,onPress:function(){n.navigate("Home")}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(ke,null,"Digite a senha para liberar acesso de DJ."),a.a.createElement(te,{onChangeText:function(e){return u(e)},autoCorrect:!1,value:s,returnKeyType:"default",onSubmitEditing:function(){E()}}),a.a.createElement(H,{title:"Validar",marginVertical:4,onPress:E})))},Ie=Object(I.a)(),Fe=function(){var e=j().theme,n=function(){return"dark"===e?{background:"#282A36",text:"#fff"}:{background:"#FFF4F0",text:"#333"}};return a.a.createElement(F.a,{theme:"dark"===e?C:z},a.a.createElement(T.a,null,a.a.createElement(Ie.Navigator,{screenOptions:{headerStyle:{backgroundColor:n().background},headerTintColor:n().text,headerTitleStyle:{color:n().text},headerBackTitleStyle:{backgroundColor:n().background}}},a.a.createElement(Ie.Screen,{name:"Home",component:Z,options:{title:"Casamento Maur\xedcio e Fl\xe1via"}}),a.a.createElement(Ie.Screen,{name:"SongRequest",component:fe,options:{title:"Pedir M\xfasica"}}),a.a.createElement(Ie.Screen,{name:"MySongs",component:he,options:{title:"Meus pedidos"}}),a.a.createElement(Ie.Screen,{name:"Settings",component:pe,options:{title:"Configura\xe7\xf5es"}}),a.a.createElement(Ie.Screen,{name:"DJScreen",component:Te,options:{title:"DJ Menu"}}))))},ze=(t(296),t(298),{apiKey:"AIzaSyAQ_cMkysBqb6AvTRkE6HQt1OGwiN8WITI",authDomain:"dandelion-fm2226.firebaseapp.com",databaseURL:"https://dandelion-fm2226-default-rtdb.firebaseio.com",projectId:"dandelion-fm2226",storageBucket:"dandelion-fm2226.appspot.com",messagingSenderId:"426822046150",appId:"1:426822046150:web:53e3c6f74a60dafaf3e2c7",measurementId:"G-TN20P7GL0L"});function Ce(){return a.a.createElement(P,null,a.a.createElement(Fe,null))}A.a.apps.length?A.a.app():A.a.initializeApp(ze),ye.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.a.awrap(A.a.auth().signInAnonymously());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("err");case 8:case"end":return e.stop()}}),null,null,[[0,5]],Promise)},233:function(e,n,t){e.exports=t(302)},276:function(e,n){}},[[233,1,2]]]);
//# sourceMappingURL=app.35b98c4e.chunk.js.map