(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{202:function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var r=n(0),a=n.n(r),o=n(6),c=n.n(o),i=n(7),l=n.n(i),s=n(17),u=n.n(s),m=n(98);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p,b,g,x,h,E,y,v,O,j,k,w,P,S,T=r.createContext({}),F=function(){return r.useContext(T)},I=function(e){var t=e.children,n=u()(e,["children"]),a=Object(m.a)(),o=r.useState(a),c=l()(o,2),i=c[0],s=c[1];return r.createElement(T.Provider,{value:f(f({},n),{},{theme:i,setTheme:function(e){s(e)}})},t)},z=n(169),D=n(277),C=n(28),V={colors:{main:"#9F4D5D",secondary:"#4F6758",background:"#FFF4F0",text:"#3f3f3f",textInverted:"#fff"}},A={colors:{main:"#9F4D5D",secondary:"#4F6758",background:"#282A36",text:"#fff",textInverted:"#FFF4F0"}},q=n(13),B=n.n(q),M=n(203),R=n(106),K=n(70),N=n(38),G=n(120),J=n(79),L=n(278),U=n(30),H=n.n(U),Q=C.b.Pressable.attrs({elevation:3})(p||(p=H()(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px 24px;\n  border-radius: 6px;\n  min-width: 180px;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.main})),W=C.b.Text(b||(b=H()(["\n  font-size: 16px;\n  text-align: center;\n  font-weight: bold;\n  color: ",";\n"])),(function(e){return e.theme.colors.textInverted})),_=function(e){var t=e.onPress,n=e.title,r=void 0===n?"Save":n,o=e.marginVertical;return a.a.createElement(Q,{onPress:t,style:{marginVertical:o}},a.a.createElement(W,null,r))},X=C.b.View(g||(g=H()(["\n  flex: 1;\n  background: ",";\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.theme.colors.background})),Y=C.b.Text(x||(x=H()(["\n  font-size: 24px;\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),Z=C.b.Text(h||(h=H()(["\n  font-size: 18px;\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),$=C.b.Text(E||(E=H()(["\n  font-size: 18px;\n  font-weight: bold;\n  color: ",";\n"])),(function(e){return e.theme.colors.main})),ee=C.b.View(y||(y=H()(["\n  position: absolute;\n  top: 20px;\n  left: 20px;\n"]))),te=function(e){var t=e.navigation,n=F().theme,o=Object(J.a)(N.a.auth()),c=l()(o,2),i=c[0],s=(c[1],Object(G.b)(N.a.database().ref("currentSong"))),u=l()(s,2),m=u[0],d=u[1],f=function(){return B.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.awrap(N.a.auth().signInAnonymously());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("err");case 8:case"end":return e.stop()}}),null,null,[[0,5]],Promise)};return Object(r.useEffect)((function(){i?console.log("User is authenticated",i):f()}),[i,f]),a.a.createElement(X,null,a.a.createElement(M.a,{style:"dark"===n?"light":"dark"}),a.a.createElement(ee,null,a.a.createElement(K.a,{onPress:function(){return t.navigate("Settings")}},a.a.createElement(L.a,{name:"settings",size:28}))),a.a.createElement(Y,{style:{marginBottom:48}},"Dandelion"),a.a.createElement(Z,null,"Tocando agora:"),d?a.a.createElement(R.a,{style:{marginBottom:48},size:"small",color:"#9F4D5D"}):a.a.createElement($,{style:{marginBottom:48}},m),a.a.createElement(_,{title:"Pedir m\xfasica",marginVertical:10,onPress:function(){return t.navigate("SongRequest")}}),a.a.createElement(_,{title:"Meus pedidos",marginVertical:10,onPress:function(){return t.navigate("MySongs")}}))},ne=n(66),re=C.b.View(v||(v=H()(["\n  flex: 1;\n  background: ",";\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.theme.colors.background})),ae=(C.b.Text(O||(O=H()(["\n  font-size: 24px;\n  color: ",";\n"])),(function(e){return e.theme.colors.text})),C.b.View(j||(j=H()(["\n  display: flex;\n  justify-content: center;\n"])))),oe=C.b.Text(k||(k=H()(["\n  font-size: 22px;\n  font-weight: bold;\n  color: ",";\n  margin-bottom: 4px;\n"])),(function(e){return e.theme.colors.text})),ce=C.b.TextInput(w||(w=H()(["\n  border-width: 1px;\n  border-color: ",";\n  padding: 5px 10px;\n  height: 40px;\n  width: 220px;\n  color: ",";\n  font-size: 18px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.colors.main}),(function(e){return e.theme.colors.text})),ie=function(){var e=Object(r.useState)(""),t=l()(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),i=l()(c,2),s=i[0],u=i[1],m=Object(r.useRef)(null),d=Object(J.a)(N.a.auth()),f=l()(d,1)[0],p=function(){if(""!==n)if(f){var e={name:n,artist:s,isPlaying:!1,userId:f.uid};N.a.database().ref("requests").push(e,(function(e){e?ne.a.alert("Erro ao salvar seu pedido, tente novamente"):(o(""),u(""),ne.a.alert("Pedido efetuado com sucesso","O DJ j\xe1 recebeu o seu pedido",[{text:"OK",onPress:function(){}}],{cancelable:!1}))}))}else ne.a.alert("Usu\xe1rio n\xe3o autenticado!");else ne.a.alert("Escreva pelo menos o nome da m\xfasica!!!")};return a.a.createElement(re,null,a.a.createElement(ae,null,a.a.createElement(oe,null,"Nome da m\xfasica"),a.a.createElement(ce,{onChangeText:function(e){return o(e)},autoCapitalize:"words",autoCorrect:!1,value:n,returnKeyType:"next",onEndEditing:function(){m.current&&m.current.focus()}}),a.a.createElement(oe,null,"Artista / Banda"),a.a.createElement(ce,{ref:m,onChangeText:function(e){return u(e)},autoCapitalize:"words",autoCorrect:!1,value:s,returnKeyType:"send",onEndEditing:p}),a.a.createElement(_,{title:"Pedir",marginVertical:10,onPress:p})))},le=function(){var e=F(),t=e.theme,n=e.setTheme;return a.a.createElement(re,null,a.a.createElement(_,{title:"Mudar Tema",onPress:function(){n("dark"===t?"light":"dark")}}))},se=C.b.View(P||(P=H()(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  min-width: 250px;\n"]))),ue=C.b.Text(S||(S=H()(["\n  font-size: 18px;\n  font-weight: bold;\n  color: ",";\n  margin-right: 16px;\n"])),(function(e){return e.theme.colors.main})),me=function(){var e=Object(G.a)(N.a.database().ref("requests"),{keyField:"songId"}),t=l()(e,1)[0],n=Object(J.a)(N.a.auth()),r=l()(n,1)[0];if(!r||!t)return null;var o=t.filter((function(e){return e.userId===r.uid}));return a.a.createElement(re,null,null==o?void 0:o.map((function(e){return a.a.createElement(se,{key:e.songId},a.a.createElement(ue,null,e.name," - ",e.artist),a.a.createElement(K.a,{onPress:function(){return function(e){try{N.a.database().ref("requests/"+e).remove()}catch(t){console.log("error removing song",t)}}(e.songId)}},a.a.createElement(L.a,{name:"trash-2",size:20})))})),0===o.length&&a.a.createElement(ue,null,"Voc\xea ainda n\xe3o fez nenhum pedido."))},de=Object(D.a)(),fe=function(){var e=F().theme,t=function(){return"dark"===e?{background:"#282A36",text:"#fff"}:{background:"#FFF4F0",text:"#333"}};return a.a.createElement(C.a,{theme:"dark"===e?A:V},a.a.createElement(z.a,null,a.a.createElement(de.Navigator,{screenOptions:{headerStyle:{backgroundColor:t().background},headerTintColor:t().text,headerTitleStyle:{color:t().text},headerBackTitleStyle:{backgroundColor:t().background}}},a.a.createElement(de.Screen,{name:"Home",component:te,options:{title:"Dandelion"}}),a.a.createElement(de.Screen,{name:"SongRequest",component:ie,options:{title:"SongRequest"}}),a.a.createElement(de.Screen,{name:"MySongs",component:me,options:{title:"Meus pedidos"}}),a.a.createElement(de.Screen,{name:"Settings",component:le,options:{title:"Settings"}}))))},pe=(n(266),n(268),{apiKey:"AIzaSyAQ_cMkysBqb6AvTRkE6HQt1OGwiN8WITI",authDomain:"dandelion-fm2226.firebaseapp.com",databaseURL:"https://dandelion-fm2226-default-rtdb.firebaseio.com",projectId:"dandelion-fm2226",storageBucket:"dandelion-fm2226.appspot.com",messagingSenderId:"426822046150",appId:"1:426822046150:web:53e3c6f74a60dafaf3e2c7",measurementId:"G-TN20P7GL0L"});function be(){return a.a.createElement(I,null,a.a.createElement(fe,null))}N.a.apps.length?N.a.app():N.a.initializeApp(pe)},215:function(e,t,n){e.exports=n(272)}},[[215,1,2]]]);
//# sourceMappingURL=app.9a31ff9e.chunk.js.map